{% extends "base.html" %}
{% block content %}
<table class="table table-striped" id="table">
  <thead>
    <tr>
      <th scope="col">Query No.</th>
      <th scope="col">Date</th>
      <th scope="col">Time</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Email</th>
      <th scope="col">Roll Number</th>
      <th scope="col">Description</th>
      <th scope="col">Remarks</th>
      <th scope="col">Query Action</th>
    </tr>
  </thead>
  <tbody class="table-group-divider">
    {% if query_data %}
    {% for row in query_data%}
    <tr>
      <td>{{row[0]}}</td>
      <td>{{row[1]}}</td>
      <td>{{row[2]}}</td>
      <td>{{row[3]}}</td>
      <td>{{row[4]}}</td>
      <td>{{row[5]}}</td>
      <td>{{row[6]}}</td>
      <td>{{row[7]}}</td>
      <td>{{row[8]}}</td>
      <td><button type="button" class="resolveBtn" onclick="resolvePrompt(event)">Resolve</button>
        <button type="button" class="deleteBtn" onclick="deleteRow(event)">Delete</button>
      </td>
    </tr>
    {% endfor %}
    {% endif %}
  </tbody>
</table>

<!-- creating a resolve popup element -->
<div class="resolvepopup" id="resolvePopup">
  <div class="modal-header">
    <div class="messageTitle" id="resolveTitle">Resolve Message</div>
    <button type="button" id="rescloseBtn">&times;</button>
  </div>
  <div class="messageBody" id="resolveBody">
    <form>
      <div class="message-input">
        <textarea id="resMsg" placeholder="Message"></textarea>
      </div>
      <div class="message-input" style="text-align: center;">
        <button type="button" class="butn" id="submitResMsg">Submit</button>
      </div>
    </form>
  </div>
</div>

<!-- javascript for making the logout button visible-->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    if (window.location.href.indexOf('admin') !== -1) {
      document.getElementById('logoutbtn').style.cssText = "display: block;"
    }
  })
</script>
{%endblock%}